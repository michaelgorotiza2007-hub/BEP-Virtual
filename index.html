<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banco Estudiantil Peninsular | Banca Virtual</title>
    <link rel="stylesheet" href="estilos.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <div id="toast-container"></div>

    <section id="intro-screen">
        <div class="glass-card intro-content">
            <div class="logo-container-intro">
                <img src="logo.jpg" alt="Logo BEP" class="logo-intro">
            </div>
            <h1>Banco Estudiantil <span class="text-gold">Peninsular</span></h1>
            <p>Tu futuro financiero comienza aquí</p>
            <div class="loading-bar"><div class="progress"></div></div>
            <button onclick="cerrarIntro()" class="btn-primary mt-4">Ingresar al Sistema</button>
        </div>
    </section>

    <section id="auth-screen" class="oculto">
        <div class="glass-card auth-box">
            <div class="auth-header">
                <img src="logo.jpg" class="logo-small mb-2">
                <h2>Banca Virtual</h2>
            </div>
            <div class="tabs">
                <button onclick="toggleAuth('login')" id="tab-login" class="active">Ingresar</button>
                <button onclick="toggleAuth('registro')" id="tab-registro">Registrarse</button>
            </div>

            <div id="form-login" class="form-group fade-in">
                <div class="input-icon"><i class="fas fa-user"></i><input type="text" placeholder="Usuario" id="login-user"></div>
                <div class="input-icon"><i class="fas fa-lock"></i><input type="password" placeholder="Contraseña" id="login-pass"></div>
                <button onclick="iniciarSesion()" class="btn-primary full-width">Iniciar Sesión</button>
            </div>

            <div id="form-registro" class="form-group oculto fade-in">
                <div class="input-icon"><i class="fas fa-id-card"></i><input type="text" placeholder="Nombre Completo" id="reg-nombre"></div>
                <div class="input-icon"><i class="fas fa-user-plus"></i><input type="text" placeholder="Crear Usuario" id="reg-user"></div>
                <div class="input-icon"><i class="fas fa-key"></i><input type="password" placeholder="Crear Contraseña" id="reg-pass"></div>
                <button onclick="registrarUsuario()" class="btn-gold full-width">Crear Cuenta</button>
            </div>
        </div>
    </section>

    <section id="dashboard" class="oculto">
        <nav class="sidebar">
            <div class="brand">
                <img src="logo.jpg" class="logo-sidebar"> <span>BEP Virtual</span>
            </div>
            <div class="user-profile-mini">
                <div class="avatar"><i class="fas fa-user"></i></div>
                <div class="user-details">
                    <span id="nav-user">Usuario</span>
                    <span id="nav-acc" class="account-badge">...</span>
                </div>
            </div>
            <ul class="nav-links">
                <li onclick="mostrarPanel('inicio')" class="active"><i class="fas fa-home"></i> Inicio</li>
                <li onclick="mostrarPanel('transacciones')"><i class="fas fa-exchange-alt"></i> Operaciones</li>
                <li onclick="mostrarPanel('inversiones')"><i class="fas fa-piggy-bank"></i> Inversiones</li>
                <li onclick="mostrarPanel('admin')"><i class="fas fa-tools"></i> Admin / Arqueo</li>
                <li onclick="cerrarSesion()" class="logout-btn"><i class="fas fa-sign-out-alt"></i> Salir</li>
            </ul>
        </nav>

        <main class="content-area">
            <header>
                <h2 id="header-title">Resumen Financiero</h2>
                <div class="date-display" id="current-date">--/--/----</div>
            </header>

            <div id="panel-inicio" class="view active fade-in">
                <div class="card-balance gradient-green">
                    <div class="card-details">
                        <span>Saldo Total</span>
                        <h1 id="main-balance">$0.00</h1>
                        <div class="account-number-display">
                            Cta: <span id="display-acc-number">****</span>
                            <button onclick="copiarCuenta()" class="btn-icon"><i class="far fa-copy"></i></button>
                        </div>
                    </div>
                    <div class="card-logo"><i class="fab fa-cc-visa fa-3x"></i></div>
                </div>
                <div class="recent-activity glass-panel">
                    <h3>Movimientos Recientes</h3>
                    <ul id="activity-list" class="transaction-list"></ul>
                </div>
            </div>

            <div id="panel-transacciones" class="view oculto fade-in">
                <div class="grid-2-col">
                    <div class="glass-panel">
                        <h3><i class="fas fa-arrow-down text-green"></i> Depósitos</h3>
                        <div class="action-group">
                            <input type="number" id="op-monto-ingreso" placeholder="Monto">
                            <div class="btn-row">
                                <button onclick="operar('deposito')" class="btn-green">Efectivo</button>
                                <button onclick="operar('cheque')" class="btn-silver">Cheque</button>
                            </div>
                        </div>
                    </div>
                    <div class="glass-panel">
                        <h3><i class="fas fa-arrow-up text-red"></i> Retiros & Transferencias</h3>
                        <div class="action-group">
                            <input type="number" id="op-monto-egreso" placeholder="Monto">
                            <input type="text" id="op-destino" placeholder="Cuenta Destino (Solo transf.)">
                            <div class="btn-row">
                                <button onclick="operar('retiro')" class="btn-red">Retirar</button>
                                <button onclick="operar('transferencia')" class="btn-blue">Transferir</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="panel-inversiones" class="view oculto fade-in">
                <div class="grid-2-col">
                    <div class="glass-panel featured-panel">
                        <h3>Plazo Fijo Estudiantil</h3>
                        <div class="input-group">
                            <input type="number" id="pf-monto" placeholder="Monto a Invertir">
                            <select id="pf-tiempo">
                                <option value="3">3 Meses (3%)</option>
                                <option value="6">6 Meses (5%)</option>
                                <option value="12">1 Año (8%)</option>
                            </select>
                        </div>
                        <button onclick="crearPlazoFijo()" class="btn-gold full-width">Invertir</button>
                    </div>
                    <div class="glass-panel">
                        <h3>Préstamo Estudiantil</h3>
                        <input type="number" id="prestamo-monto" placeholder="Monto Requerido">
                        <button onclick="pedirPrestamo()" class="btn-primary full-width mt-2">Solicitar</button>
                    </div>
                </div>
                <div class="glass-panel mt-4">
                    <h3>Mis Inversiones</h3>
                    <div id="lista-inversiones" class="empty-state">No hay inversiones activas.</div>
                </div>
            </div>

            <div id="panel-admin" class="view oculto fade-in">
                <div class="glass-panel">
                    <h3>Contabilización BEP</h3>
                    <div class="stats-grid">
                        <div class="stat-box"><span>Activos</span><h4 id="stat-saldo">$0.00</h4></div>
                        <div class="stat-box"><span>Prestamos</span><h4 id="stat-prestamos">$0.00</h4></div>
                        <div class="stat-box"><span>Inversiones</span><h4 id="stat-inversiones">$0.00</h4></div>
                    </div>
                </div>
                <div class="glass-panel mt-4">
                    <h3>Arqueo de Caja</h3>
                    <div class="arqueo-container">
                        <div class="bill-row"><span>$100</span><input type="number" class="bill-input" data-val="100"></div>
                        <div class="bill-row"><span>$50</span><input type="number" class="bill-input" data-val="50"></div>
                        <div class="bill-row"><span>$20</span><input type="number" class="bill-input" data-val="20"></div>
                        <div class="bill-row"><span>$10</span><input type="number" class="bill-input" data-val="10"></div>
                        <div class="bill-row"><span>$5</span><input type="number" class="bill-input" data-val="5"></div>
                        <div class="bill-row"><span>$1</span><input type="number" class="bill-input" data-val="1"></div>
                    </div>
                    <div class="arqueo-result">
                        <button onclick="calcularArqueo()" class="btn-blue">Calcular</button>
                        <span id="arqueo-total">Total: $0.00</span>
                    </div>
                </div>
            </div>
        </main>
    </section>

    <script type="module" src="script.js"></script>
</body>
</html>